<html lang="en">
<!-- head section -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- call to style.css for additional formatting -->
    <link rel = "stylesheet" href="style.css">
    <!-- call to D3.js to use framework -->
    <script src = 'https://d3js.org/d3.v4.js'></script>
    <!-- meta data -->
    <meta property = 'og:title' content='PPOL 563: Data Visualization Tutorial'/>
    <meta property = 'og:description' content='This interactive website is intended to assist data science students with creating their own scrolling visualization website'/>
    <meta property = 'og:url' content='https://vegalla.github.io/ppol_563_scroller_tutorial/'/>

    <!-- title -->
    <title>PPOL 563: Scroller Tutorial</title>
</head>

<!-- body section -->
<body>
    <!-- div for tool tips -->
    <div id = 'tooltip'></div>
    <!-- div for web page -->
    <div id = "graphic">
        <!-- div for left hand side (text content) -->
        <div id = "sections">
            <section class = "step">
                <div class = "title"></div>
                <!-- The following line is the first instance of a line break; without line breaks text will wrap as a single block -->
                <br>
                <h1>How can I create an interactive data visualization that updates as users scroll through?</h1>
                
                <p>By Vince Egalla</p>
                
                <p>
                This work is inspired by and draws from the work of Cuthbert Chow, Jim Vallandingham, and Michael Bostock. 
                Links to their resources are located at the bottom.
                <br><br>
                I am inspired to provide a tutorial on this technique to assist peers in my Master's of Data Science for Public Policy
                at Georgetown University, who may be interested in creating data story web pages. 
                <br><br>
                On the right, there is a D3.js visualization of a network graph. 
                It's underlying data is the DC Metro system, although you might not be able to tell from it's shape!
                Although the connections are intact, it's layout is produced by D3.js force simulations.
                <br><br>
                Try to find the station you take most frequently by hovering over the nodes!
                </p>
            </section>

            <section class = 'step'>
                <p>
                The internet has facilitated tremendous exchange of information. Content may be hosted on HTML web pages and in the early days of the internet,
                sites were simple and plain. The growth of web services has led to an array of methods that enhance a page's appeal.
                With HTML, images may be embedded into the page as a method of showcasing visualization. However, these images will be static.
                D3.js offers incredible potential for dynamic and interactive visualization on the web as seen in data stories.
                <br><br>
                The data visualizations shared by Madeline and Yousuf highlight data stories that enhance user engagement
                with animated charts, hoverable tool tips, selectable options, etc.
                <br><br>
                <!-- The following line is the first instance of hyperlinking with HTML -->
                Madeline shared <a href = 'https://pudding.cool/2017/05/song-repetition/'>Are Pop Lyrics Getting More Repetitive?</a>, exploring music with text analysis.
                <br><br>
                Yousuf shared <a href = 'http://drones.pitchinteractive.com/'>Out of Sight, Out of Mind</a>, covering drone strikes in Pakistan.
                <br><br>
                While these visualizations were created by professional web developers, these skills don't have to be out of reach for us.
                However, navigating through the plethora of resources available may be difficult and I hope to summarize the components critical for getting started.
                </p>
            </section>

            <section class = "step">
                <p>
                <!-- The following line is the first instance h2, check out style.css for how h1/h2 differ -->
                <h2>Introduction</h2>

                The four important components of this style of web page are:
                <!-- The following line is the first instance of an unordered list -->
                <ul>
                    <li>index.html</li>
                    <li>sections.js</li>
                    <li>scroller.js</li>
                    <li>style.css</li>
                </ul><br>
                <!-- The following line is the first instance of bolded text -->
                <b>index.html</b> contains the website metadata, text content, and calls the functions that make web pages dynamic.
                <br><br>
                <b>sections.js</b> handles data input and draws the visualization using D3.js.
                <br><br>
                <b>scroller.js</b> adds the scrolling-updating component to the website.
                <br><br>
                <b>style.css</b> provides additional styling details.
                <br><br>
                Each of these components will be explained in a section below. 
                <br><br>
                I've summarized major concepts behind each file, but reviewing the code and the comments I've included may be beneficial too!
                Click on purple headers to direct yourself to the code available on Github.
            </section>

            <section class = 'step'>
                <p>
                <br><br>
                <br><br>
                <h2>code implementation and testing</h2>
                Testing of your web page may be done through a local web server, implemented through Python.
                After setting your working directory to where the HTML is located, use the following:
                <br><br>
                <!-- The following line is the first instance of code text (rectangle border with courier font)-->
                <code>python -m http.server 8000</code>
                <br><br>
                The web page can then be accessed through <code>localhost:8000</code> in a browser.
                <br><br>
                For sharing to broader audiences, code may be commited to Github and made accessible through <a href = 'https://pages.github.com/'>Github Pages</a>.
                <br><br>
                Developing your web page with a local web server will be much easier than constantly pushing updates to your Github Page repository.
                </p>
            </section>

            <section class = 'step'>
                <p>
                <h2><a href = 'https://github.com/vegalla/vegalla.github.io/blob/630ea98864c60896be308f78d62004e502a6d675/ppol_563_scroller_tutorial/index.html'>index.html</a></h2>
                This file can be broken into two major sections: head and body. 
                For HTML, the head and body can be distinguished through the tags 
                <code> < head > < / head > </code> or <code> < body > < / body > </code>. 
                Understanding how tags are used is essential to writing an HTML web page.
                <br><br>
                The head contains the web page title and meta data. 
                The title appears as text within a tab of a web browser. Meta data provides additional information about the site.
                <br><br>
                In order to use D3.js, it has to be called on, as seen in the first <code> < script > </script></code> tag.
                Since the D3.js code is available online, it doesn't have to downloaded or installed locally to function as long as it is properly referenced.
                <br><br>
                The text you've been reading through is contained within the body section. 
                So far, I've used three HTML tags for Header 1, Header 2, and Paragraph.
                Additionally, text is particularly located in 'step' sections that incorporate the interactive scrolling, explained below.

                </p>
            </section>

            <section class = "step">
                <p>
                <h2><a href = 'https://github.com/vegalla/vegalla.github.io/blob/master/ppol_563_scroller_tutorial/sections.js'>sections.js</a></h2>
                The network graph is visualized within the sections.js file. Sections.js is called at the end of index.html.
                <br><br>
                First, there is a <code> < div > </code> section with the ID 'vis' within index.html, located below the 'step' sections. 
                Within sections.js, this 'vis' section is assigned a Scalable Vector Graphic (SVG) with width, height, and margin parameters.
                This SVG is the canvas, which the network graph is drawn on.
                <br><br>
                The graph data, as a JSON file, is imported. The graph has keys for nodes and links. 
                Each node has a unique ID and will be drawn as a circle on the graph. Each link has a source and target that connects nodes together.
                Both the nodes and links are initialized in the top left corner, displayed as a single circle in the first few seconds.
                However, the final layout of the nodes is then determined by a force simulation. The nodes are centered around the SVG and ultimately settle on a location,
                based on some repulsion/attraction parameters.
                <br><br>
                The final position of the nodes occurs iteratively from when all nodes are initially drawn on the top left corner.
                The iterations occur quick enough that it's apparently instantaneous. 
                </p>
                
            </section>

            <section class = "step">
                <p>
                Compared to the original code for this network graph, I've introduced tooltips that occur when you hover over a node or edge.
                <br><br>
                At the bottom of sections.js, there are functions for actions on scrolling. 
                The scroller operates by maintaining an index of the 'step' sections and tracking user placement on the page.
                Inactive indices are faded out to maintain focus on relevant text.
                <br><br>
                Within sections.js, I would also plan to code animations, tool tips, etc. for the visualization on the right. 
                However, given the intended challenge of creating a custom visualization, I have not yet incorporated animating the network graph.
                <br><br>
                At minimum, I've maintained the fade in/out of text as the user navigates 'step' sections, compared to Cuthbert Chow's original code which show animated charts, dynamic labels, and force diagrams.
                I am still developing my own D3.js and require more time and practice to build out animations at every 'step'.
                </p>
                
            </section>

            <section class = "step">
                <p>
                <h2><a href = 'https://github.com/vegalla/vegalla.github.io/blob/0a200e26eac0bfc8bd0a7d79b40da632de08e370/ppol_563_scroller_tutorial/scroller.js'>scroller.js</a></h2>
                This JavaScript file is Cuthbert Chow's adaptation of Jim Vallandingham's <a href = 'https://github.com/vlandham/scroll_demo/blob/gh-pages/js/scroller.js'>reusable scroller</a>.
                <br><br>
                Reviewing both scripts, the functions are nearly identical with differences in the beginning concerning how variables are declared. 
                Additionally, Chow's version has stripped out Vallandingham's comments, which provide code descriptions.
                <br><br>
                For easier review, I've added back and supplemented these comments with my own.
                <br><br>
                The core functionality of this script is to handle user position on the web page.
                The functions within this script handle when the window is resized to account for different screen sizes or zoom settings
                and then tracking which 'step' the user is on.
                <br><br>
                With the scroller function, additional functionality, such as animations or transitions, can be added in sections.js.
                </p>
            </section>

            <section class = "step">
                <p>
                <h2><a href = 'https://github.com/vegalla/vegalla.github.io/blob/master/ppol_563_scroller_tutorial/style.css'>styling.css</a></h2>
                This file is a stylesheet that formats content within specified HTML tags.
                <br><br>
                The website background color, font parameters, tooltip parameters, etc. are all specified in this file.
                <br><br>
                For comparison, take a look at this same HTML file without any CSS styling!<br>
                <a href = 'https://vegalla.github.io/ppol_563_scroller_tutorial/no_style'>no style web page</a>
                <br><br>
                You can see that it's essentially a text file with marginal differences thanks to the different header tags.
                Additionally without the stylesheet, text extends past the screen without the option to scroll over as there is no control on the sections holding text, 
                such as position or size.
                <br><br>
                The code for the visualization is now at the bottom of the page as its div is structurally below the text.
                </p>
            </section>

            <section class = "step">
                <p>
                <h2>Considerations & Next Steps</h2>
                Unfortunately, I haven't answered the question I posed! 
                While I've built a scrolling website with some minor interactive scrolling component, I haven't built or provided guidance on animated visualizations.
                Combining both topics of a network graph and animation functions proved to be too difficult in the time available to me, 
                but it is my final goal to incorporate all of these elements in the final visualization.
                <br><br>
                Overall, I hope that I've covered some level of foundation necessary to get started and lead people in the correct direction.
                <br><br>
                Lastly, I have two recommendations. 
                <ul>
                    <li>Experiment with your page on with a local web server over Github Pages.
                        It's undoubtedly faster and easier to evaluate if updates break the web page or not.</li>
                    <br>
                    <li>Visualize something you're truly passionate about! It's incredibly rewarding to see your data come to life with D3.</li>
                </ul>

                </p>
            </section>

            <section class = "step">
                <h1>References</h1>
                <p>
                Scott Murray<br>
                <a href = 'https://wrlc-gu.primo.exlibrisgroup.com/discovery/fulldisplay?docid=alma991037144430904111&context=L&vid=01WRLC_GUNIV:01WRLC_GUNIV&lang=en&search_scope=DN_and_CI&adaptor=Local%20Search%20Engine&tab=Everything&query=any,contains,interactive%20data%20visualization%20for%20the%20web&sortby=rank'>Interactive Data Visualization for the Web</a><br>
                Available to Georgetown students online through the library
                <br><br>
                D3.js Graph Gallery<br>
                <a href = 'https://www.d3-graph-gallery.com/network.html'>Network Graph</a>
                <br><br>
                Cuthbert Chow <br>
                <a href = 'https://cuthchow.github.io/college-majors-visualisation/'>College Majors Visualization</a><br>
                <a href = 'https://towardsdatascience.com/how-i-created-an-interactive-scrolling-visualisation-with-d3-js-and-how-you-can-too-e116372e2c73'>How I Created an Interactive, Scrolling Visualisation with D3.js, and how you can too</a>
                <br><br>
                Jim Vallandingham<br>
                <a href = 'https://vallandingham.me/scroller.html'>So You Want to Build a Scroller</a>
                <br><br>
                Michael Bostock<br>
                <a href = 'https://bost.ocks.org/mike/scroll/'>How to Scroll</a>
                </p>
                <span></span><span></span><span></span>                
            </section>
           

        </div>
        <!-- div for right hand side (visualization) -->
        <div id = "vis">

        </div>
    </div>
        
    <!-- calls to additional JavaScript functions -->
    <script src = 'scroller.js'></script>
    <script src = 'sections.js'></script>

</body>
</html>
